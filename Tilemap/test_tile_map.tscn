[gd_scene load_steps=44 format=3 uid="uid://ck64dc18wmv1i"]

[ext_resource type="TileSet" uid="uid://dacklybjx0vcf" path="res://Tilemap/pixle_art.tres" id="1_ugw2p"]
[ext_resource type="Texture2D" uid="uid://ctiisq4e3bdni" path="res://Tilemap/tilemap.png" id="3_6on1a"]
[ext_resource type="Script" path="res://Scripts/Characters/player.gd" id="3_rai3a"]
[ext_resource type="Script" path="res://Scripts/Characters/enemy.gd" id="5_fbutc"]
[ext_resource type="Script" path="res://Scripts/GameSystems/turn_manager.gd" id="6_hmq3b"]

[sub_resource type="SystemFont" id="SystemFont_nrs2u"]

[sub_resource type="LabelSettings" id="LabelSettings_niggj"]
font = SubResource("SystemFont_nrs2u")
font_size = 23
shadow_size = 0

[sub_resource type="SystemFont" id="SystemFont_sk5yq"]

[sub_resource type="LabelSettings" id="LabelSettings_us2om"]
font = SubResource("SystemFont_sk5yq")
font_size = 25

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_c8004"]
radius = 5.0
height = 10.0

[sub_resource type="AtlasTexture" id="AtlasTexture_7kk0g"]
atlas = ExtResource("3_6on1a")
region = Rect2(442, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_n5hx0"]
atlas = ExtResource("3_6on1a")
region = Rect2(442, 17, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_bef0p"]
atlas = ExtResource("3_6on1a")
region = Rect2(442, 34, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_ses5t"]
atlas = ExtResource("3_6on1a")
region = Rect2(408, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_d6d7r"]
atlas = ExtResource("3_6on1a")
region = Rect2(408, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_0pq5g"]
atlas = ExtResource("3_6on1a")
region = Rect2(408, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_ak0h1"]
atlas = ExtResource("3_6on1a")
region = Rect2(408, 17, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_bxtis"]
atlas = ExtResource("3_6on1a")
region = Rect2(408, 34, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_yt5f2"]
atlas = ExtResource("3_6on1a")
region = Rect2(391, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_5y5ui"]
atlas = ExtResource("3_6on1a")
region = Rect2(391, 17, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_dgeww"]
atlas = ExtResource("3_6on1a")
region = Rect2(391, 34, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_fvej0"]
atlas = ExtResource("3_6on1a")
region = Rect2(442, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_osvwk"]
atlas = ExtResource("3_6on1a")
region = Rect2(442, 17, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_f6fym"]
atlas = ExtResource("3_6on1a")
region = Rect2(442, 34, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_8ond2"]
atlas = ExtResource("3_6on1a")
region = Rect2(425, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_r6npr"]
atlas = ExtResource("3_6on1a")
region = Rect2(425, 17, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_ddegx"]
atlas = ExtResource("3_6on1a")
region = Rect2(425, 34, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_u3p22"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7kk0g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n5hx0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bef0p")
}],
"loop": false,
"name": &"attack",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ses5t")
}],
"loop": true,
"name": &"idle",
"speed": 1.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_d6d7r")
}],
"loop": true,
"name": &"jump",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0pq5g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ak0h1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bxtis")
}],
"loop": true,
"name": &"walk_down",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yt5f2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5y5ui")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dgeww")
}],
"loop": true,
"name": &"walk_left",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fvej0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_osvwk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f6fym")
}],
"loop": true,
"name": &"walk_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8ond2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r6npr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ddegx")
}],
"loop": true,
"name": &"walk_up",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_7vj7y"]
atlas = ExtResource("3_6on1a")
region = Rect2(408, 204, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_c3mcw"]
atlas = ExtResource("3_6on1a")
region = Rect2(408, 204, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_fxeef"]
atlas = ExtResource("3_6on1a")
region = Rect2(408, 204, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_j8ujh"]
atlas = ExtResource("3_6on1a")
region = Rect2(408, 221, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_2m70f"]
atlas = ExtResource("3_6on1a")
region = Rect2(408, 238, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_kgiao"]
atlas = ExtResource("3_6on1a")
region = Rect2(391, 204, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_q6phm"]
atlas = ExtResource("3_6on1a")
region = Rect2(391, 221, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_xrv2l"]
atlas = ExtResource("3_6on1a")
region = Rect2(391, 238, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_53g72"]
atlas = ExtResource("3_6on1a")
region = Rect2(442, 204, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_6si3l"]
atlas = ExtResource("3_6on1a")
region = Rect2(442, 221, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_8gnys"]
atlas = ExtResource("3_6on1a")
region = Rect2(442, 238, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_xr02q"]
atlas = ExtResource("3_6on1a")
region = Rect2(425, 204, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_1urqt"]
atlas = ExtResource("3_6on1a")
region = Rect2(425, 221, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_kie3d"]
atlas = ExtResource("3_6on1a")
region = Rect2(425, 238, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_mtymk"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7vj7y")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_c3mcw")
}],
"loop": true,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fxeef")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j8ujh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2m70f")
}],
"loop": true,
"name": &"walk_down",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_kgiao")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q6phm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xrv2l")
}],
"loop": true,
"name": &"walk_left",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_53g72")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6si3l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8gnys")
}],
"loop": true,
"name": &"walk_right",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xr02q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1urqt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kie3d")
}],
"loop": true,
"name": &"walk_up",
"speed": 3.0
}]

[node name="Scene" type="Node2D"]

[node name="Level" type="Node2D" parent="."]

[node name="TileMap" type="TileMap" parent="Level"]
tile_set = ExtResource("1_ugw2p")
format = 2
layer_0/tile_data = PackedInt32Array(-65538, 65537, 4, -65537, 65537, 4, -131072, 65537, 4, -131071, 65537, 4, -131070, 65537, 4, -65534, 65537, 4, 2, 65537, 4, 65538, 65537, 4, 131074, 65537, 4, 131073, 65537, 4, 131072, 65537, 4, 196607, 65537, 4, 196606, 65537, 4, 131070, 65537, 4, 65534, 65537, 4, -2, 65537, 4, -1, 65537, 4, 65535, 65537, 4, 131071, 65537, 4, 65536, 65537, 4, 65537, 65537, 4, 1, 65537, 4, -65535, 65537, 4, -65536, 65537, 4, 0, 65537, 4, -131075, 65537, 4, 196605, 65537, 4, 196604, 65537, 4, 131068, 65537, 4, 131069, 65537, 4, 65533, 65537, 4, -3, 65537, 4, -4, 65537, 4, 65532, 65537, 4, -65540, 65537, 4, -65539, 65537, 4, -131076, 65537, 4, -131074, 65537, 4, -131073, 65537, 4, -196608, 65537, 4, -196607, 65537, 4, -196606, 65537, 4, -196613, 1, 3, 262139, 1, 5, -262142, 65537, 3, -262143, 65537, 3, -262144, 65537, 3, -196609, 65537, 3, -196610, 65537, 3, -196611, 65537, 3, -196612, 65537, 3, -131077, 1, 4, -65541, 1, 4, -5, 1, 4, 65531, 1, 4, 131067, 1, 4, 196603, 1, 4, 262140, 65537, 5, 262141, 65537, 5, 262142, 65537, 5, 262143, 65537, 5, 196608, 65537, 5, 196609, 65537, 5, 196610, 65537, 5, -262141, 131073, 3, -196605, 131073, 4, -131069, 131073, 4, -65533, 131073, 4, 3, 131073, 4, 65539, 131073, 4, 131075, 131073, 4, 196611, 131073, 5)

[node name="UI" type="Control" parent="Level"]
layout_mode = 3
anchors_preset = 0
offset_top = -1.0
offset_right = 40.0
offset_bottom = 39.0

[node name="Player" type="CanvasGroup" parent="Level/UI"]
texture_repeat = 1
position = Vector2(-25, 7)

[node name="Label" type="Label" parent="Level/UI/Player"]
offset_left = -35.0
offset_top = 16.0
offset_right = 43.0
offset_bottom = 51.0
scale = Vector2(0.3, 0.3)
text = "Player"
label_settings = SubResource("LabelSettings_niggj")
metadata/_edit_use_anchors_ = true

[node name="HealthBar" type="ProgressBar" parent="Level/UI/Player"]
offset_left = -36.0
offset_top = 25.0
offset_right = 92.0
offset_bottom = 52.0
scale = Vector2(0.25, 0.25)
step = 1.0

[node name="Enemy" type="CanvasGroup" parent="Level/UI"]

[node name="Label" type="Label" parent="Level/UI/Enemy"]
offset_left = 8.0
offset_top = 23.0
offset_right = 89.0
offset_bottom = 61.0
scale = Vector2(0.3, 0.3)
text = "Enemy"
label_settings = SubResource("LabelSettings_us2om")

[node name="HealthBar" type="ProgressBar" parent="Level/UI/Enemy"]
offset_left = 8.0
offset_top = 33.0
offset_right = 136.0
offset_bottom = 60.0
scale = Vector2(0.25, 0.25)
step = 1.0

[node name="Characters" type="Node2D" parent="Level"]

[node name="Player" type="CharacterBody2D" parent="Level/Characters"]
position = Vector2(21, 22)
script = ExtResource("3_rai3a")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Characters/Player"]
position = Vector2(-53, 31)
shape = SubResource("CapsuleShape2D_c8004")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Level/Characters/Player"]
position = Vector2(-53, 29)
sprite_frames = SubResource("SpriteFrames_u3p22")
animation = &"idle"

[node name="Camera2D" type="Camera2D" parent="Level/Characters/Player"]
position = Vector2(-46, 12)
zoom = Vector2(9, 7)

[node name="Enemy" type="CharacterBody2D" parent="Level/Characters"]
position = Vector2(55, 22)
script = ExtResource("5_fbutc")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Characters/Enemy"]
position = Vector2(-53, 31)
shape = SubResource("CapsuleShape2D_c8004")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Level/Characters/Enemy"]
position = Vector2(-53, 29)
sprite_frames = SubResource("SpriteFrames_mtymk")
animation = &"jump"

[node name="TurnManager" type="Node2D" parent="Level"]
script = ExtResource("6_hmq3b")
